#pragma once
#include "./lib/num.h"

static constexpr U8 DIGIT_INVALID = 255;
static constexpr U8 DIGIT_BREAK   = 254;

// clang-format off
static constexpr U8 CHAR_TO_DIGIT[256] = {
  /* NULL    */ [0]   = DIGIT_BREAK,
  /* control */ [1]   = DIGIT_INVALID,
  /* control */ [2]   = DIGIT_INVALID,
  /* control */ [3]   = DIGIT_INVALID,
  /* control */ [4]   = DIGIT_INVALID,
  /* control */ [5]   = DIGIT_INVALID,
  /* control */ [6]   = DIGIT_INVALID,
  /* control */ [7]   = DIGIT_INVALID,
  /* control */ [8]   = DIGIT_INVALID,
  /* \t      */ [9]   = DIGIT_BREAK,
  /* \n      */ [10]  = DIGIT_BREAK,
  /* \v      */ [11]  = DIGIT_BREAK,
  /* control */ [12]  = DIGIT_BREAK,
  /* \r      */ [13]  = DIGIT_BREAK,
  /* control */ [14]  = DIGIT_INVALID,
  /* control */ [15]  = DIGIT_INVALID,
  /* control */ [16]  = DIGIT_INVALID,
  /* control */ [17]  = DIGIT_INVALID,
  /* control */ [18]  = DIGIT_INVALID,
  /* control */ [19]  = DIGIT_INVALID,
  /* control */ [20]  = DIGIT_INVALID,
  /* control */ [21]  = DIGIT_INVALID,
  /* control */ [22]  = DIGIT_INVALID,
  /* control */ [23]  = DIGIT_INVALID,
  /* control */ [24]  = DIGIT_INVALID,
  /* control */ [25]  = DIGIT_INVALID,
  /* control */ [26]  = DIGIT_INVALID,
  /* control */ [27]  = DIGIT_INVALID,
  /* control */ [28]  = DIGIT_INVALID,
  /* control */ [29]  = DIGIT_INVALID,
  /* control */ [30]  = DIGIT_INVALID,
  /* control */ [31]  = DIGIT_INVALID,
  /* space   */ [32]  = DIGIT_BREAK,
  /* !       */ [33]  = DIGIT_INVALID,
  /* "       */ [34]  = DIGIT_INVALID,
  /* #       */ [35]  = DIGIT_INVALID,
  /* $       */ [36]  = DIGIT_INVALID,
  /* %       */ [37]  = DIGIT_INVALID,
  /* &       */ [38]  = DIGIT_INVALID,
  /* '       */ [39]  = DIGIT_INVALID,
  /* (       */ [40]  = DIGIT_INVALID,
  /* )       */ [41]  = DIGIT_INVALID,
  /* *       */ [42]  = DIGIT_INVALID,
  /* +       */ [43]  = DIGIT_INVALID,
  /* ,       */ [44]  = DIGIT_INVALID,
  /* -       */ [45]  = DIGIT_INVALID,
  /* .       */ [46]  = DIGIT_INVALID,
  /* /       */ [47]  = DIGIT_INVALID,
  /* 0       */ [48]  = 0,
  /* 1       */ [49]  = 1,
  /* 2       */ [50]  = 2,
  /* 3       */ [51]  = 3,
  /* 4       */ [52]  = 4,
  /* 5       */ [53]  = 5,
  /* 6       */ [54]  = 6,
  /* 7       */ [55]  = 7,
  /* 8       */ [56]  = 8,
  /* 9       */ [57]  = 9,
  /* :       */ [58]  = DIGIT_INVALID,
  /* ;       */ [59]  = DIGIT_INVALID,
  /* <       */ [60]  = DIGIT_INVALID,
  /* =       */ [61]  = DIGIT_INVALID,
  /* >       */ [62]  = DIGIT_INVALID,
  /* ?       */ [63]  = DIGIT_INVALID,
  /* @       */ [64]  = DIGIT_INVALID,
  /* A       */ [65]  = 10 + 0,
  /* B       */ [66]  = 10 + 1,
  /* C       */ [67]  = 10 + 2,
  /* D       */ [68]  = 10 + 3,
  /* E       */ [69]  = 10 + 4,
  /* F       */ [70]  = 10 + 5,
  /* G       */ [71]  = 10 + 6,
  /* H       */ [72]  = 10 + 7,
  /* I       */ [73]  = 10 + 8,
  /* J       */ [74]  = 10 + 9,
  /* K       */ [75]  = 10 + 10,
  /* L       */ [76]  = 10 + 11,
  /* M       */ [77]  = 10 + 12,
  /* N       */ [78]  = 10 + 13,
  /* O       */ [79]  = 10 + 14,
  /* P       */ [80]  = 10 + 15,
  /* Q       */ [81]  = 10 + 16,
  /* R       */ [82]  = 10 + 17,
  /* S       */ [83]  = 10 + 18,
  /* T       */ [84]  = 10 + 19,
  /* U       */ [85]  = 10 + 20,
  /* V       */ [86]  = 10 + 21,
  /* W       */ [87]  = 10 + 22,
  /* X       */ [88]  = 10 + 23,
  /* Y       */ [89]  = 10 + 24,
  /* Z       */ [90]  = 10 + 25,
  /* [       */ [91]  = DIGIT_INVALID,
  /* \       */ [92]  = DIGIT_INVALID,
  /* ]       */ [93]  = DIGIT_INVALID,
  /* ^       */ [94]  = DIGIT_INVALID,
  /* _       */ [95]  = DIGIT_INVALID,
  /* `       */ [96]  = DIGIT_INVALID,
  /* a       */ [97]  = 10 + 0,
  /* b       */ [98]  = 10 + 1,
  /* c       */ [99]  = 10 + 2,
  /* d       */ [100] = 10 + 3,
  /* e       */ [101] = 10 + 4,
  /* f       */ [102] = 10 + 5,
  /* g       */ [103] = 10 + 6,
  /* h       */ [104] = 10 + 7,
  /* i       */ [105] = 10 + 8,
  /* j       */ [106] = 10 + 9,
  /* k       */ [107] = 10 + 10,
  /* l       */ [108] = 10 + 11,
  /* m       */ [109] = 10 + 12,
  /* n       */ [110] = 10 + 13,
  /* o       */ [111] = 10 + 14,
  /* p       */ [112] = 10 + 15,
  /* q       */ [113] = 10 + 16,
  /* r       */ [114] = 10 + 17,
  /* s       */ [115] = 10 + 18,
  /* t       */ [116] = 10 + 19,
  /* u       */ [117] = 10 + 20,
  /* v       */ [118] = 10 + 21,
  /* w       */ [119] = 10 + 22,
  /* x       */ [120] = 10 + 23,
  /* y       */ [121] = 10 + 24,
  /* z       */ [122] = 10 + 25,
  /* {       */ [123] = DIGIT_INVALID,
  /* |       */ [124] = DIGIT_INVALID,
  /* }       */ [125] = DIGIT_INVALID,
  /* ~       */ [126] = DIGIT_INVALID,
  /* control */ [127] = DIGIT_INVALID,
  /* control */ [128] = DIGIT_INVALID,
  /* control */ [129] = DIGIT_INVALID,
  /* control */ [130] = DIGIT_INVALID,
  /* control */ [131] = DIGIT_INVALID,
  /* control */ [132] = DIGIT_INVALID,
  /* control */ [133] = DIGIT_INVALID,
  /* control */ [134] = DIGIT_INVALID,
  /* control */ [135] = DIGIT_INVALID,
  /* control */ [136] = DIGIT_INVALID,
  /* control */ [137] = DIGIT_INVALID,
  /* control */ [138] = DIGIT_INVALID,
  /* control */ [139] = DIGIT_INVALID,
  /* control */ [140] = DIGIT_INVALID,
  /* control */ [141] = DIGIT_INVALID,
  /* control */ [142] = DIGIT_INVALID,
  /* control */ [143] = DIGIT_INVALID,
  /* control */ [144] = DIGIT_INVALID,
  /* control */ [145] = DIGIT_INVALID,
  /* control */ [146] = DIGIT_INVALID,
  /* control */ [147] = DIGIT_INVALID,
  /* control */ [148] = DIGIT_INVALID,
  /* control */ [149] = DIGIT_INVALID,
  /* control */ [150] = DIGIT_INVALID,
  /* control */ [151] = DIGIT_INVALID,
  /* control */ [152] = DIGIT_INVALID,
  /* control */ [153] = DIGIT_INVALID,
  /* control */ [154] = DIGIT_INVALID,
  /* control */ [155] = DIGIT_INVALID,
  /* control */ [156] = DIGIT_INVALID,
  /* control */ [157] = DIGIT_INVALID,
  /* control */ [158] = DIGIT_INVALID,
  /* control */ [159] = DIGIT_INVALID,
  /* control */ [160] = DIGIT_INVALID,
  /* control */ [161] = DIGIT_INVALID,
  /* control */ [162] = DIGIT_INVALID,
  /* control */ [163] = DIGIT_INVALID,
  /* control */ [164] = DIGIT_INVALID,
  /* control */ [165] = DIGIT_INVALID,
  /* control */ [166] = DIGIT_INVALID,
  /* control */ [167] = DIGIT_INVALID,
  /* control */ [168] = DIGIT_INVALID,
  /* control */ [169] = DIGIT_INVALID,
  /* control */ [170] = DIGIT_INVALID,
  /* control */ [171] = DIGIT_INVALID,
  /* control */ [172] = DIGIT_INVALID,
  /* control */ [173] = DIGIT_INVALID,
  /* control */ [174] = DIGIT_INVALID,
  /* control */ [175] = DIGIT_INVALID,
  /* control */ [176] = DIGIT_INVALID,
  /* control */ [177] = DIGIT_INVALID,
  /* control */ [178] = DIGIT_INVALID,
  /* control */ [179] = DIGIT_INVALID,
  /* control */ [180] = DIGIT_INVALID,
  /* control */ [181] = DIGIT_INVALID,
  /* control */ [182] = DIGIT_INVALID,
  /* control */ [183] = DIGIT_INVALID,
  /* control */ [184] = DIGIT_INVALID,
  /* control */ [185] = DIGIT_INVALID,
  /* control */ [186] = DIGIT_INVALID,
  /* control */ [187] = DIGIT_INVALID,
  /* control */ [188] = DIGIT_INVALID,
  /* control */ [189] = DIGIT_INVALID,
  /* control */ [190] = DIGIT_INVALID,
  /* control */ [191] = DIGIT_INVALID,
  /* control */ [192] = DIGIT_INVALID,
  /* control */ [193] = DIGIT_INVALID,
  /* control */ [194] = DIGIT_INVALID,
  /* control */ [195] = DIGIT_INVALID,
  /* control */ [196] = DIGIT_INVALID,
  /* control */ [197] = DIGIT_INVALID,
  /* control */ [198] = DIGIT_INVALID,
  /* control */ [199] = DIGIT_INVALID,
  /* control */ [200] = DIGIT_INVALID,
  /* control */ [201] = DIGIT_INVALID,
  /* control */ [202] = DIGIT_INVALID,
  /* control */ [203] = DIGIT_INVALID,
  /* control */ [204] = DIGIT_INVALID,
  /* control */ [205] = DIGIT_INVALID,
  /* control */ [206] = DIGIT_INVALID,
  /* control */ [207] = DIGIT_INVALID,
  /* control */ [208] = DIGIT_INVALID,
  /* control */ [209] = DIGIT_INVALID,
  /* control */ [210] = DIGIT_INVALID,
  /* control */ [211] = DIGIT_INVALID,
  /* control */ [212] = DIGIT_INVALID,
  /* control */ [213] = DIGIT_INVALID,
  /* control */ [214] = DIGIT_INVALID,
  /* control */ [215] = DIGIT_INVALID,
  /* control */ [216] = DIGIT_INVALID,
  /* control */ [217] = DIGIT_INVALID,
  /* control */ [218] = DIGIT_INVALID,
  /* control */ [219] = DIGIT_INVALID,
  /* control */ [220] = DIGIT_INVALID,
  /* control */ [221] = DIGIT_INVALID,
  /* control */ [222] = DIGIT_INVALID,
  /* control */ [223] = DIGIT_INVALID,
  /* control */ [224] = DIGIT_INVALID,
  /* control */ [225] = DIGIT_INVALID,
  /* control */ [226] = DIGIT_INVALID,
  /* control */ [227] = DIGIT_INVALID,
  /* control */ [228] = DIGIT_INVALID,
  /* control */ [229] = DIGIT_INVALID,
  /* control */ [230] = DIGIT_INVALID,
  /* control */ [231] = DIGIT_INVALID,
  /* control */ [232] = DIGIT_INVALID,
  /* control */ [233] = DIGIT_INVALID,
  /* control */ [234] = DIGIT_INVALID,
  /* control */ [235] = DIGIT_INVALID,
  /* control */ [236] = DIGIT_INVALID,
  /* control */ [237] = DIGIT_INVALID,
  /* control */ [238] = DIGIT_INVALID,
  /* control */ [239] = DIGIT_INVALID,
  /* control */ [240] = DIGIT_INVALID,
  /* control */ [241] = DIGIT_INVALID,
  /* control */ [242] = DIGIT_INVALID,
  /* control */ [243] = DIGIT_INVALID,
  /* control */ [244] = DIGIT_INVALID,
  /* control */ [245] = DIGIT_INVALID,
  /* control */ [246] = DIGIT_INVALID,
  /* control */ [247] = DIGIT_INVALID,
  /* control */ [248] = DIGIT_INVALID,
  /* control */ [249] = DIGIT_INVALID,
  /* control */ [250] = DIGIT_INVALID,
  /* control */ [251] = DIGIT_INVALID,
  /* control */ [252] = DIGIT_INVALID,
  /* control */ [253] = DIGIT_INVALID,
  /* control */ [254] = DIGIT_INVALID,
  /* control */ [255] = DIGIT_INVALID,
};
